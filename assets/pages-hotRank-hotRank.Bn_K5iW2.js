import{q as a,s as e,J as t,o as s,d as l,w as u,f as r,j as d,t as o,C as n,h as c,i as _,F as i,v as f,k as m,P as k,x as v,_ as p}from"./index-BuXhiBqj.js";import{u as h}from"./user.4rzeOHzh.js";const y=p(a({__name:"hotRank",setup(a){const p=e([]),y=e([]),g=e({id:"",rank:""}),R=e(""),w=e(""),x=h();var $;return f.service.leaderboard$ranking({user_id:(null==($=null==x?void 0:x.user)?void 0:$.id)||1}).then((a=>{a.success((a=>{const e=a.top_users;p.value=e.slice(0,3),y.value=e.slice(3),g.value=a.my_rank||null,R.value=a.week_start,w.value=a.week_end}))})),(a,e)=>{const h=m,x=k,$=t("bt-page");return s(),l($,{backIcon:"",navText:n(f).t("page.hotRank.1"),padding:32},{default:u((()=>[r(h,{class:"hot-rank content"},{default:u((()=>[r(h,{class:"week-title"},{default:u((()=>[d(o(n(f).timeFormat(R.value,"yyyy-mm-dd"))+" - "+o(n(f).timeFormat(w.value,"yyyy-mm-dd")),1)])),_:1}),r(h,{class:"top3-cards"},{default:u((()=>[(s(!0),c(i,null,_(p.value,((a,e)=>(s(),l(h,{key:e,class:v(["card",`card-${e+1}`])},{default:u((()=>[r(h,{class:v(["medal",["medal-"+["gold","silver","bronze"][e]]])},{default:u((()=>[d(o(["👑","🥈","🥉"][e]),1)])),_:2},1032,["class"]),r(h,{class:"amount"},{default:u((()=>[d("￥"+o(a.reward),1)])),_:2},1024),r(h,{class:"user"},{default:u((()=>[d(o(a.username),1)])),_:2},1024),r(h,{class:"desc"},{default:u((()=>[d(o(n(f).t("page.hotRank.2",{num:a.order_count})),1)])),_:2},1024),r(h,{class:"profit"},{default:u((()=>[d(o(n(f).t("page.hotRank.3"))+"$"+o(a.profit),1)])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1}),r(h,{class:"other-title"},{default:u((()=>[d(o(n(f).t("page.hotRank.7")),1)])),_:1}),r(x,{"scroll-y":"",class:"other-list"},{default:u((()=>[(s(!0),c(i,null,_(y.value,((a,e)=>(s(),l(h,{class:"other-item",key:e},{default:u((()=>[r(h,{class:"other-rank"},{default:u((()=>[d(o(e+4),1)])),_:2},1024),r(h,{class:"other-info"},{default:u((()=>[r(h,{class:"other-user"},{default:u((()=>[d(o(a.username),1)])),_:2},1024),r(h,{class:"other-time"},{default:u((()=>[d(o(a.time),1)])),_:2},1024)])),_:2},1024),r(h,{class:"other-amount"},{default:u((()=>[d("￥"+o(a.reward),1)])),_:2},1024),r(h,{class:"other-desc"},{default:u((()=>[d(o(n(f).t("page.hotRank.2",{num:a.order_count})),1)])),_:2},1024),r(h,{class:"other-profit"},{default:u((()=>[d(o(n(f).t("page.hotRank.3"))+"$"+o(a.profit),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),r(h,{class:"my-rank"},{default:u((()=>[r(h,{class:"my-title"},{default:u((()=>[d(o(n(f).t("page.hotRank.4")),1)])),_:1}),r(h,{class:"my-info"},{default:u((()=>[r(h,{class:"my-id"},{default:u((()=>{var a;return[d("id: "+o((null==(a=g.value)?void 0:a.id)||"******"),1)]})),_:1}),r(h,{class:"my-status"},{default:u((()=>{var a;return[d(o((null==(a=g.value)?void 0:a.rank)?`当前第 ${g.value.rank} 名`:n(f).t("page.hotRank.4")),1)]})),_:1})])),_:1})])),_:1}),r(h,{class:"update-tip"},{default:u((()=>[d(o(n(f).t("page.hotRank.6",{time:"14:30"})),1)])),_:1})])),_:1})])),_:1},8,["navText"])}}}),[["__scopeId","data-v-65dc1284"]]);export{y as default};
